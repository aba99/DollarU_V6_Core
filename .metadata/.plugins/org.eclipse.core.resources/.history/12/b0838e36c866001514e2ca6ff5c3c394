package com.orsyp.client.amex;



import java.io.IOException;

import com.orsyp.UniverseException;
import com.orsyp.tools.ps.Connector;
import com.orsyp.tools.ps.InMemoryFile;



public class AddDepConToUproc {

	static int count = 1;
	
	public static void main(String[] args) throws Exception {

		String fileName = args[0];
		String csvFile = args[1];
		
		InMemoryFile csvF = new InMemoryFile(csvFile);
		csvF.store();
		
		Connector conn = new Connector(fileName,false,"",false,"",false,"");
		for(String uprKey:csvF.getHash_Store().keySet())
		{
			
			{
				
				try {
					conn.getConnectionList().get(0).addDepToUprocAdhoc(uprKey,csvF.getHash_Store().get(uprKey));
				} catch (UniverseException e) {
					System.out.println("Error : "+uprKey+" failed");
					//e.printStackTrace();
					continue;
				}
			}
			
			
		}
		/*for(int u=0;u<conn.getConnectionList().get(0).getUprocArrayList().size();u++)
		{
			if(!csvF.getHash_Store().containsKey(conn.getConnectionList().get(0).getUprocArrayList().get(u)))
			{
				conn.getConnectionList().get(0).getUprocArrayList().get(u).delete();
			}
		}*/
	}	
		

}

	

